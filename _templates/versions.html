{% if READTHEDOCS %}
{# Add rst-badge after rst-versions for small badge style. #}
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      v: {{ current_version }}
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>{{ _('Versions') }}</dt>
            {% for slug, url in versions %}
            <dd class="versions-version"><a href="{{ url }}">{{ slug }}</a></dd>
            {% endfor %}
        </dl>
        <dl>
            <dt>{{ _('Downloads') }}</dt>
            {% for type, url in downloads %}
            <dd><a href="{{ url }}">{{ type }}</a></dd>
            {% endfor %}
        </dl>
        <dl>
            <dt>{{ _('On Read the Docs') }}</dt>
            <dd>
                <a href="//{{ PRODUCTION_DOMAIN }}/projects/{{ slug }}/?fromdocs={{ slug }}">{{ _('Project Home') }}</a>
            </dd>
            <dd>
                <a href="//{{ PRODUCTION_DOMAIN }}/builds/{{ slug }}/?fromdocs={{ slug }}">{{ _('Builds') }}</a>
            </dd>
        </dl>
        <hr/>
        {% trans %}Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.{% endtrans %}
        <script>
            if(document.location.pathname.indexOf('/en/latest') === 0) {
                document.querySelector('.rst-current-version').innerHTML = document.querySelector('.rst-current-version').innerHTML.replace('v: latest', 'v: latest (16.11)')
            }
            var observer = new MutationObserver((() => {
                if(document.querySelector('.injected')){
                    document.querySelector('.injected > dl:nth-child(1) > dd:nth-child(2) > a').innerText = 'latest (16.11)';
                    observer.disconnect();
                }
            }))

        </script>
    </div>
</div>
{% endif %}